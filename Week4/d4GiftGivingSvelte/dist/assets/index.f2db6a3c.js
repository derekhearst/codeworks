(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function L(){}function be(e){return e()}function de(){return Object.create(null)}function z(e){e.forEach(be)}function we(e){return typeof e=="function"}function ne(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let T;function q(e,t){return T||(T=document.createElement("a")),T.href=t,e===T.href}function Ce(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function Ee(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function se(e){return document.createTextNode(e)}function k(){return se(" ")}function Se(){return se("")}function X(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function ge(e){return function(t){return t.preventDefault(),e.call(this,t)}}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Me(e){return Array.from(e.childNodes)}function Le(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let ie;function j(e){ie=e}const P=[],Y=[],U=[],J=[],Be=Promise.resolve();let Q=!1;function Ae(){Q||(Q=!0,Be.then(ke))}function Z(e){U.push(e)}function Oe(e){J.push(e)}const W=new Set;let I=0;function ke(){const e=ie;do{for(;I<P.length;){const t=P[I];I++,j(t),De(t.$$)}for(j(null),P.length=0,I=0;Y.length;)Y.pop()();for(let t=0;t<U.length;t+=1){const n=U[t];W.has(n)||(W.add(n),n())}U.length=0}while(P.length);for(;J.length;)J.pop()();Q=!1,W.clear(),j(e)}function De(e){if(e.fragment!==null){e.update(),z(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}const V=new Set;let Fe;function H(e,t){e&&e.i&&(V.delete(e),e.i(t))}function pe(e,t,n,s){if(e&&e.o){if(V.has(e))return;V.add(e),Fe.c.push(()=>{V.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Ne(e,t){e.d(1),t.delete(e.key)}function Pe(e,t,n,s,i,l,r,c,a,o,u,g){let v=e.length,h=l.length,b=v;const B={};for(;b--;)B[e[b].key]=b;const $=[],A=new Map,M=new Map;for(b=h;b--;){const p=g(i,l,b),w=n(p);let _=r.get(w);_?s&&_.p(p,t):(_=o(w,p),_.c()),A.set(w,$[b]=_),w in B&&M.set(w,Math.abs(b-B[w]))}const N=new Set,O=new Set;function D(p){H(p,1),p.m(c,u),r.set(p.key,p),u=p.first,h--}for(;v&&h;){const p=$[h-1],w=e[v-1],_=p.key,C=w.key;p===w?(u=p.first,v--,h--):A.has(C)?!r.has(_)||N.has(_)?D(p):O.has(C)?v--:M.get(_)>M.get(C)?(O.add(_),D(p)):(N.add(C),v--):(a(w,r),v--)}for(;v--;){const p=e[v];A.has(p.key)||a(p,r)}for(;h;)D($[h-1]);return $}function je(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function he(e){e&&e.c()}function ee(e,t,n,s){const{fragment:i,after_update:l}=e.$$;i&&i.m(t,n),s||Z(()=>{const r=e.$$.on_mount.map(be).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...r):z(r),e.$$.on_mount=[]}),l.forEach(Z)}function te(e,t){const n=e.$$;n.fragment!==null&&(z(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function qe(e,t){e.$$.dirty[0]===-1&&(P.push(e),Ae(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,n,s,i,l,r,c=[-1]){const a=ie;j(e);const o=e.$$={fragment:null,ctx:[],props:l,update:L,not_equal:i,bound:de(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:de(),dirty:c,skip_bound:!1,root:t.target||a.$$.root};r&&r(o.root);let u=!1;if(o.ctx=n?n(e,t.props||{},(g,v,...h)=>{const b=h.length?h[0]:v;return o.ctx&&i(o.ctx[g],o.ctx[g]=b)&&(!o.skip_bound&&o.bound[g]&&o.bound[g](b),u&&qe(e,g)),v}):[],o.update(),u=!0,z(o.before_update),o.fragment=s?s(o.ctx):!1,t.target){if(t.hydrate){const g=Me(t.target);o.fragment&&o.fragment.l(g),g.forEach(x)}else o.fragment&&o.fragment.c();t.intro&&H(e.$$.fragment),ee(e,t.target,t.anchor,t.customElement),ke()}j(a)}class le{$destroy(){te(this,1),this.$destroy=L}$on(t,n){if(!we(n))return L;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!Ce(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function me(e,t,n){const s=e.slice();return s[4]=t[n],s}function ze(e){let t,n,s,i,l,r;function c(){return e[3](e[4])}return{c(){t=m("div"),n=m("img"),i=k(),f(n,"class","cursor-pointer svelte-11ei1eg"),q(n.src,s="https://dkstatic.s3.amazonaws.com/Creative-Development/2019/DFS/cp-eightDaysOfGifts/Gift-01.png")||f(n,"src",s),f(n,"alt","un-opened gift"),f(t,"class","gift unopened svelte-11ei1eg")},m(a,o){S(a,t,o),d(t,n),d(t,i),l||(r=X(n,"click",c),l=!0)},p(a,o){e=a},d(a){a&&x(t),l=!1,r()}}}function Te(e){let t,n,s=e[4].tag+"",i,l,r,c,a,o;return{c(){t=m("div"),n=m("h1"),i=se(s),l=k(),r=m("img"),o=k(),q(r.src,c=e[4].url)||f(r,"src",c),f(r,"alt",a=e[4].tag),f(t,"class","gift svelte-11ei1eg")},m(u,g){S(u,t,g),d(t,n),d(n,i),d(t,l),d(t,r),S(u,o,g)},p(u,g){g&1&&s!==(s=u[4].tag+"")&&Le(i,s),g&1&&!q(r.src,c=u[4].url)&&f(r,"src",c),g&1&&a!==(a=u[4].tag)&&f(r,"alt",a)},d(u){u&&x(t),u&&x(o)}}}function _e(e){let t;function n(l,r){return l[4].opened?Te:ze}let s=n(e),i=s(e);return{c(){i.c(),t=Se()},m(l,r){i.m(l,r),S(l,t,r)},p(l,r){s===(s=n(l))&&i?i.p(l,r):(i.d(1),i=s(l),i&&(i.c(),i.m(t.parentNode,t)))},d(l){i.d(l),l&&x(t)}}}function Ie(e){let t,n=e[0],s=[];for(let i=0;i<n.length;i+=1)s[i]=_e(me(e,n,i));return{c(){t=m("body");for(let i=0;i<s.length;i+=1)s[i].c();f(t,"class","svelte-11ei1eg")},m(i,l){S(i,t,l);for(let r=0;r<s.length;r+=1)s[r].m(t,null)},p(i,[l]){if(l&3){n=i[0];let r;for(r=0;r<n.length;r+=1){const c=me(i,n,r);s[r]?s[r].p(c,l):(s[r]=_e(c),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i:L,o:L,d(i){i&&x(t),Ee(s,i)}}}function Ue(e,t,n){async function s(){let c=await axios.get("https://bcw-sandbox.herokuapp.com/api/gifts");n(0,i=c.data)}s();let i=[];async function l(c){console.log("opening gift",c),await axios.put("https://bcw-sandbox.herokuapp.com/api/gifts/"+c,{opened:!0}),s()}return[i,l,s,c=>l(c.id)]}class Ve extends le{constructor(t){super(),re(this,t,Ue,Ie,ne,{getGifts:2})}get getGifts(){return this.$$.ctx[2]}}function ye(e,t,n){const s=e.slice();return s[6]=t[n],s}function ve(e,t){let n,s,i,l,r;function c(){return t[3](t[6])}return{key:e,first:null,c(){n=m("img"),f(n,"class","flex-auto border border-black select-none cursor-pointer"),q(n.src,s=t[6].images.downsized.url)||f(n,"src",s),f(n,"alt",i=t[6].tile),this.first=n},m(a,o){S(a,n,o),l||(r=X(n,"click",c),l=!0)},p(a,o){t=a,o&2&&!q(n.src,s=t[6].images.downsized.url)&&f(n,"src",s),o&2&&i!==(i=t[6].tile)&&f(n,"alt",i)},d(a){a&&x(n),l=!1,r()}}}function Xe(e){let t,n=[],s=new Map,i=e[1];const l=r=>r[6];for(let r=0;r<i.length;r+=1){let c=ye(e,i,r),a=l(c);s.set(a,n[r]=ve(a,c))}return{c(){t=m("body");for(let r=0;r<n.length;r+=1)n[r].c();f(t,"class","flex gap-2 flex-wrap w-full")},m(r,c){S(r,t,c);for(let a=0;a<n.length;a+=1)n[a].m(t,null)},p(r,[c]){c&3&&(i=r[1],n=Pe(n,c,l,1,r,i,s,t,Ne,ve,null,ye))},i:L,o:L,d(r){r&&x(t);for(let c=0;c<n.length;c+=1)n[c].d()}}}function Ye(e,t,n){async function s(o){let u=await axios.get("https://api.giphy.com/v1/gifs/trending",{params:{api_key:"MMeuX1kitbCppFxppi6sspmUVGc0MBGb",limit:25,rating:"pg"}});n(1,l=u.data.data),console.log(l)}async function i(o){let u=await axios.get("https://api.giphy.com/v1/gifs/search",{params:{api_key:"MMeuX1kitbCppFxppi6sspmUVGc0MBGb",limit:10,rating:"pg",lang:"en",q:o}});n(1,l=u.data.data),console.log(l)}let l=[],{selectedGif:r=null}=t,{filter:c=""}=t;const a=o=>n(0,r=o);return e.$$set=o=>{"selectedGif"in o&&n(0,r=o.selectedGif),"filter"in o&&n(2,c=o.filter)},e.$$.update=()=>{e.$$.dirty&4&&(c.length>1&&i(c),s())},[r,l,c,a]}class He extends le{constructor(t){super(),re(this,t,Ye,Xe,ne,{selectedGif:0,filter:2})}}class Ke{static async confirm(t="Are you sure?",n="You won't be able to revert this!",s="Yes",i="warning"){try{return!!(await Swal.fire({title:t,text:n,icon:i,confirmButtonText:s,showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"var(--bs-primary)",cancelButtonColor:"var(--bs-secondary)"})).isConfirmed}catch{return!1}}static toast(t="Warning!",n="warning",s="top-end",i=3e3,l=!0){Swal.fire({title:t,icon:n,position:s,timer:i,timerProgressBar:l,toast:!0,showConfirmButton:!1})}static error(t){if(t.isAxiosError){const{response:n}=t,s=(n.data?n.data.error:n.data)||{message:"Invalid Request "+n.status};if(!s)return this.toast(t.message);this.toast(s.message||s.error||"error")}else this.toast(t.message||t,"error")}static success(t="Success!"){this.toast(t,"success")}static async prompt(t="Success!",n=!1){try{const s=await Swal.fire({title:t,input:"text",showCancelButton:!n});if(s.isConfirmed&&s.value)return s.value;if(n&&!s.isConfirmed)return await this.prompt(t)}catch(s){console.error("[PromptError]",s)}}}function Re(e){try{const t=new FormData(e),n={};return t.forEach((s,i)=>{n[i]=s}),n}catch(t){console.error("[Extracting_Form_Data]",t),Ke.error(t)}}function We(e){let t,n,s,i,l,r,c,a,o,u,g,v,h,b,B,$,A,M,N,O,D,p,w,_,C,oe,E,F,K,ae;function $e(y){e[5](y)}let ce={filter:e[1]};e[0]!==void 0&&(ce.selectedGif=e[0]),_=new He({props:ce}),Y.push(()=>je(_,"selectedGif",$e));let Ge={};return E=new Ve({props:Ge}),e[6](E),{c(){var y,G;t=m("main"),n=m("nav"),s=m("h1"),s.textContent="Gifted!",i=k(),l=m("form"),r=m("label"),r.textContent="Tag",c=k(),a=m("input"),u=k(),g=m("label"),g.textContent="Picture",v=k(),h=m("input"),B=k(),$=m("button"),$.textContent="Submit!",A=k(),M=m("hr"),N=k(),O=m("h2"),O.textContent="Search for gifs on gifpy!",D=k(),p=m("form"),p.innerHTML='<input type="text" id="filter" name="filter" class="svelte-11emky0"/>',w=k(),he(_.$$.fragment),oe=k(),he(E.$$.fragment),f(s,"class","svelte-11emky0"),f(r,"for","tag"),f(r,"class","svelte-11emky0"),f(a,"type","text"),a.required=!0,f(a,"id","tag"),f(a,"name","tag"),a.value=o=((y=e[0])==null?void 0:y.title)||"",f(a,"class","svelte-11emky0"),f(g,"for","url"),f(g,"class","svelte-11emky0"),f(h,"type","url"),f(h,"id","url"),h.required=!0,f(h,"name","url"),h.value=b=((G=e[0])==null?void 0:G.images.downsized.url)||"",f(h,"class","svelte-11emky0"),f($,"class","svelte-11emky0"),f(l,"class","svelte-11emky0"),f(M,"class","my-4"),f(p,"class","svelte-11emky0"),f(n,"class","svelte-11emky0"),f(t,"class","svelte-11emky0")},m(y,G){S(y,t,G),d(t,n),d(n,s),d(n,i),d(n,l),d(l,r),d(l,c),d(l,a),d(l,u),d(l,g),d(l,v),d(l,h),d(l,B),d(l,$),d(n,A),d(n,M),d(n,N),d(n,O),d(n,D),d(n,p),d(n,w),ee(_,n,null),d(t,oe),ee(E,t,null),F=!0,K||(ae=[X(l,"submit",ge(e[3])),X(p,"submit",ge(e[4]))],K=!0)},p(y,[G]){var fe,ue;(!F||G&1&&o!==(o=((fe=y[0])==null?void 0:fe.title)||"")&&a.value!==o)&&(a.value=o),(!F||G&1&&b!==(b=((ue=y[0])==null?void 0:ue.images.downsized.url)||"")&&h.value!==b)&&(h.value=b);const R={};G&2&&(R.filter=y[1]),!C&&G&1&&(C=!0,R.selectedGif=y[0],Oe(()=>C=!1)),_.$set(R);const xe={};E.$set(xe)},i(y){F||(H(_.$$.fragment,y),H(E.$$.fragment,y),F=!0)},o(y){pe(_.$$.fragment,y),pe(E.$$.fragment,y),F=!1},d(y){y&&x(t),te(_),e[6](null),te(E),K=!1,z(ae)}}}function Je(e,t,n){let s=null,i="",l={};async function r(u){let g=Re(u.target),v=await axios.post("https://bcw-sandbox.herokuapp.com/api/gifts",g);console.log(v),l.getGifts()}const c=u=>n(1,i=u.target.filter.value);function a(u){s=u,n(0,s)}function o(u){Y[u?"unshift":"push"](()=>{l=u,n(2,l)})}return[s,i,l,r,c,a,o]}class Qe extends le{constructor(t){super(),re(this,t,Je,We,ne,{})}}new Qe({target:document.getElementById("app")});
